import System
import System.Text

/*
 *. let lexer = Lexer.WithSource(TextReader(...))
 *  let token = lexer.ReadToken()
 */

public class Lexer {
    let textReader : TextReader

    public init WithSource(textReader : TextReader) {
        self._textReader = textReader
    }

    public ReadToken() -> Token {
        while true {
            let ch = _textReader.Read()

            var number = -1

            if int.TryParse(ch.ToString(), &number) {
                return Token(.Numerical, "test")
            } else if char.IsLetter(ch) {
                return Token(.Identifier, "test")
                // return .Identifier("test")
            }
        }
    }
}

public struct Token(kind : SyntaxKind, value : string) {

    public Kind : SyntaxKind { get } = kind

    public Value : string { get } = value
}

public enum SyntaxKind { Identifier, Numerical, Unknown }

/*
enum Token {
   Identifier(text: string)
   Number(text: string)
   Unknown
}
*/