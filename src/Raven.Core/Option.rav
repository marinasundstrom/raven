namespace System

import System.*

public union Option<T> {
    Some(value: T)
    None
}

public extension OptionExtensions<T> for Option<T> {
    UnwrapOrDefault() -> T {
        if self is .Some(value) {
            return value
        }

        return default(T)
    }

    UnwrapOrThrow() -> T {
        if self is .Some(value) {
            return value
        }

        throw new InvalidOperationException("Option is None")
    }

    UnwrapOr(defaultValue: T) -> T {
        if self is .Some(value) {
            return value
        }

        return defaultValue
    }
}
