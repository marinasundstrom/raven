import System.*
import System.Console.*

func Main() -> () {
    val inputs = ["10", "abc", "42"]
    val r = ProcessNumbers(inputs) match {
        .Ok => ()
        .Error(val message) => WriteLine(message)
    }
}

func parseInt(text: string) -> Result<int, string> {
    return try int.Parse(text) match {
        .Ok(val value) => .Ok(value)
        .Error(_) => .Error("\"$text\" is not a number")
    }
}

func ProcessNumbers(inputs: string[]) -> Result<(), string> {
    for text in inputs {
        val no = parseInt(text)?

        val message = no match {
            10 => "10!"
            val value => "Parsed: $value"
        }

        WriteLine(message)
    }

    return .Ok(())
}