import System.*

Console.WriteLine(f())

func GetUser() -> Result<User, Err> {
    // sample implementation
    return .Ok(User { Name = "Marina" })
}

func f() -> Result<int, Err> {
    val wrapped = GetUser()?.Name // Result<string, Err>

    val str = wrapped.UnwrapOrDefault()

    return .Ok(str.Length + 1)
}

union Err {
    MissingUser
    MissingName
}

class User {
    public Name: string? { get; set; }
}