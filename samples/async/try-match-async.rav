import System.*
import System.Threading.Tasks.*

async func Foo() -> Task<int> {
    await Task.Delay(200)
    throw new Exception("boom")
    return 0
}

val result = try await Foo() match {
    .Ok(int value) => value.ToString()
    .Error(Exception ex) => ex.Message
}

Console.WriteLine(result)
