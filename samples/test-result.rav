/*
 * Demonstrates discriminated unions in Raven.
 */

import System.*

let res = parseNumber("foo")

Console.WriteLine("Is error: ${res.IsError}")

let str = res match {
    .Ok(v) => "Number is: ${v}"
    .Error(message) => message
}

Console.WriteLine(str)

let res2 = parseNumber("foo").UnwrapOrThrow()

func parseNumber(str: string) -> Result<int> {
    return try int.Parse(str) match {
        int v => .Ok(v)
        Exception exc => .Error(exc.Message)
    }
}
