/*
 * Demonstrates discriminated unions with generics.
 */

import System.*

val ok : Result<int, string> = .Ok(99)
val err = Result<int, string>.Error("boom")

Console.WriteLine(ok)
Console.WriteLine(err)

Console.WriteLine(format(ok))
Console.WriteLine(format((Result<int, string>)err))

Console.WriteLine(format(Ok(42)))

func format(result: Result<int, string>) -> string {
    return result match {
        Ok(val value) => "ok $value"
        Error(val message) => "error '$message'"
    }
}
